# 🎛️NAI utils

NAIがちょっと便利になるかもしれない機能をまとめたChrome拡張です。

## 📲インストール

1. Releasesから`NaiUtils.zip`をダウンロードし、解凍します。
2. ChromeのURL欄に`chrome://extensions/`と入力し、拡張機能の管理画面に移動します。
3. 右上隅で「デベロッパーモード」をONにします。
4. 「パッケージ化されていない拡張機能を読み込む」をクリックし、手順1.で解凍された"dist"フォルダを選択すると拡張機能がインストールされます。
    - 再インストール時は前のバージョンを削除しておいてください。

## ⚙️設定

-   Chromeのメニューバーの拡張機能ボタンを押し、`NAI utils`を選択すると各機能のON/OFFを設定するページが開きます。
-   各設定を反映する場合は、NAIのページリロードが必要です。

## 🧩機能

### 🖼️生成機能

#### Enterキーによる生成の無効化

-   プロンプト欄でEnterキーを押しても生成を行わず、改行を入力します。
-   `Ctrl + Enter`で生成します。

#### Ctrl + Enter でどこでも生成

`Ctrl + Enter`で画面上のどこにフォーカスがあっても生成を行います。

### 🕘生成履歴機能

#### 生成履歴の右クリック保存

生成履歴エリアを右クリックで表示中の画像を保存します。

#### 生成履歴のマウスホイール選択

-   生成履歴エリアでマウスホイールすると画像を選択します。
-   `Alt`キーを押している間は通常のスクロールをします。

#### 閲覧済みの生成履歴の強調

一度選択した生成履歴画像に灰色のオーバーレイをかけ、閲覧済みであることをわかりやすくします。

#### 生成履歴の即時削除

削除確認ダイアログを表示せず、すぐに削除します。

#### ⚠️生成履歴機能の注意事項

inpaint画面を開いた直後は機能が失われますが、1枚生成すると元に戻ります。

### 👀見た目の機能

#### モデル選択欄の非表示

モデル選択欄を非表示にし、プロンプト欄とi2i欄の表示領域を広げます。

#### 画像設定欄を生成画像上部に移動する

プロンプト欄下にある生成枚数とアスペクト比の設定欄を生成画像の上に移動します。

#### プロンプト欄の幅・高さを変更する

-   プロンプト欄の幅・高さを画面サイズの割合で指定して変更します。
-   0でOFFになります。

#### プロンプト欄の高さをリサイズ可能にする

-   プロンプト欄右下に高さ調節のつまみが表示され、リサイズ可能になります。
-   機能が競合するため、`プロンプト欄の高さ変更設定`がONの場合こちらの機能は使用できません。使用する場合は高さ変更設定をOFF(0)に設定してください。

### 🛠️その他の機能

#### 保存ファイル名を<日時-シード値>にする

-   ファイル名をデフォルトの`プロンプト s-シード値.png`から`yyyyMMddHHmmsss-シード値.png`に変更します。
-   ⚠️この機能がONの場合、inpaint画面を開くと生成履歴保存ボタンの状態が失われ、保存済みの灰色が白色に戻ります。NAI標準とは異なる動作となりますのでご注意ください。

#### 一部の数値設定スライダーに +/- ボタンを表示する

-   スライダーでの数値設定をボタンでもできるようにします。
-   対象のスライダーは以下のとおりです。
    -   inpaintのペンサイズ
    -   i2iのStrength・Noise

#### Anlas消費時の確認ダイアログを表示する

-   Anlasを消費する操作を行う際に はい/ いいえ の確認ダイアログを表示するようにします。いいえを選択すると操作を中止します。
-   対象の操作は以下の通りです。
    -   複数枚生成
    -   Upscale
    -   Variation生成

#### 画像読込時、自動で「画像のインポート」を選択する

インポートの種類の確認ダイアログを表示せず、自動で「画像のインポート」を選択します。

#### 生成完了時に音を鳴らす

-   生成完了時に音を鳴らします。
-   音はデフォルトのものから変更可能です。任意のmp3ファイルを`generated-sound.mp3`にリネームし、解凍した拡張機能のフォルダ配下の`dist/assets/`に置いたあと、NAIをリロードしてください。
